"use strict";(self.webpackChunkmymove_docs=self.webpackChunkmymove_docs||[]).push([[9842],{98995:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var n=a(87462),i=(a(67294),a(3905));a(29420);const o={},l=void 0,r={unversionedId:"about/Welcome",id:"about/Welcome",title:"Welcome",description:"This is the migrated root README from the Transcom mymove repo. This is a living document that is being worked on.",source:"@site/docs/about/Welcome.md",sourceDirName:"about",slug:"/about/Welcome",permalink:"/mymove-docs/docs/about/Welcome",draft:!1,editUrl:"https://github.com/transcom/mymove-docs/edit/main/docs/about/Welcome.md",tags:[],version:"current",frontMatter:{},sidebar:"aboutSidebar",previous:{title:"Server",permalink:"/mymove-docs/docs/about/application-setup/server"},next:{title:"API / Swagger",permalink:"/mymove-docs/docs/about/development/api-and-swagger"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Login.gov",id:"logingov",level:2},{value:"Creating alternative users with the same email address",id:"creating-alternative-users-with-the-same-email-address",level:3},{value:"Setup: Shared",id:"setup-shared",level:3},{value:"Other Possible Setups",id:"other-possible-setups",level:3},{value:"Setup: Office Local client",id:"setup-office-local-client",level:4},{value:"Setup: Admin Local client",id:"setup-admin-local-client",level:4},{value:"Setup: Orders Gateway",id:"setup-orders-gateway",level:4},{value:"Setup: Prime API",id:"setup-prime-api",level:4},{value:"Development",id:"development",level:2},{value:"GoLand",id:"goland",level:3},{value:"Goland: Nix",id:"goland-nix",level:4}],u={toc:p};function m(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"This is the migrated root README from the Transcom mymove repo. This is a living document that is being worked on.")),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"Please check the ",(0,i.kt)("a",{parentName:"p",href:"https://transcom.github.io/mymove-docs/docs"},"MilMove Development Documentation")," for details on the project itself."),(0,i.kt)("h2",{id:"logingov"},"Login.gov"),(0,i.kt)("p",null,"You'll need accounts for login.gov and the login.gov sandbox. These will\nrequire two-factor authentication, so have your second factor (one of: phone,\nauthentication app, security key, CAC) on hand. To create an account at\nlogin.gov, use your regular ",(0,i.kt)("inlineCode",{parentName:"p"},"truss.works")," email and follow ",(0,i.kt)("a",{parentName:"p",href:"https://login.gov/help/creating-an-account/how-to-create-an-account/"},"the official\ninstructions"),".\nTo create an account in the sandbox, follow the same instructions, but ",(0,i.kt)("a",{parentName:"p",href:"https://idp.int.identitysandbox.gov/sign_up/enter_email"},"in the\nsandbox server"),". Do\n",(0,i.kt)("em",{parentName:"p"},"not")," use your regular email address in the sandbox."),(0,i.kt)("h3",{id:"creating-alternative-users-with-the-same-email-address"},"Creating alternative users with the same email address"),(0,i.kt)("p",null,"You can use the plus sign ",(0,i.kt)("inlineCode",{parentName:"p"},"+")," to create a new Truss email address.\n",(0,i.kt)("inlineCode",{parentName:"p"},"name+some_string@truss.works")," will be treated as a new address, but will be\nrouted to your ",(0,i.kt)("inlineCode",{parentName:"p"},"name@truss.works")," email automatically. Don't use this for the\noffice-side of account creation. It's helpful to use these types of accounts for\nthe customer-side accounts."),(0,i.kt)("h3",{id:"setup-shared"},"Setup: Shared"),(0,i.kt)("h3",{id:"other-possible-setups"},"Other Possible Setups"),(0,i.kt)("p",null,"The instructions so far have been for getting the project up and running, but focused on the client/customer side.\nThere are more things you can set up in the following sections."),(0,i.kt)("h4",{id:"setup-office-local-client"},"Setup: Office Local client"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Ensure that you have a test account which can log into the office site. To load test data, run:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"make db_dev_e2e_populate\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Run"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"make office_client_run\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},'Log into "Local Sign In" and either select a pre-made user or use the button to create a new user'))),(0,i.kt)("h4",{id:"setup-admin-local-client"},"Setup: Admin Local client"),(0,i.kt)("p",null,"Run"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"make admin_client_run\n")),(0,i.kt)("h4",{id:"setup-orders-gateway"},"Setup: Orders Gateway"),(0,i.kt)("p",null,"Nothing to do."),(0,i.kt)("h4",{id:"setup-prime-api"},"Setup: Prime API"),(0,i.kt)("p",null,"The API that the Prime will use is authenticated via mutual TSL so there are a few things you need to do to interact\nwith it in a local environment."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Make sure that the ",(0,i.kt)("inlineCode",{parentName:"p"},"primelocal")," alias is setup for localhost"),(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"Check your ",(0,i.kt)("inlineCode",{parentName:"li"},"/etc/hosts")," file for an entry for ",(0,i.kt)("inlineCode",{parentName:"li"},"primelocal"),"."))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Run"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"make server_run\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Access the Prime API using the devlocal-mtls certs. There is a script that shows you how to do this with curl\nat ",(0,i.kt)("inlineCode",{parentName:"p"},"./scripts/prime-api"),". For instance to call the ",(0,i.kt)("inlineCode",{parentName:"p"},"move-task-orders")," endpoint, run"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"./scripts/prime-api move-task-orders\n")))),(0,i.kt)("h2",{id:"development"},"Development"),(0,i.kt)("h3",{id:"goland"},"GoLand"),(0,i.kt)("p",null,"GoLand supports\n",(0,i.kt)("a",{parentName:"p",href:"https://blog.jetbrains.com/go/2019/02/06/debugging-with-goland-getting-started/#debugging-a-running-application-on-the-local-machine"},"attaching the debugger to a running process"),",\nhowever this requires that the server has been built with specific flags. If you wish to use this feature in\ndevelopment add the following line ",(0,i.kt)("inlineCode",{parentName:"p"},"export GOLAND=1")," to your ",(0,i.kt)("inlineCode",{parentName:"p"},".envrc.local"),". Once the server starts follow the steps\noutlined in the article above and you should now be able to set breakpoints using the GoLand debugger."),(0,i.kt)("h4",{id:"goland-nix"},"Goland: Nix"),(0,i.kt)("p",null,"To get Goland to play nicely with ",(0,i.kt)("inlineCode",{parentName:"p"},"nix"),", there's a few things you can set up:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Update ",(0,i.kt)("inlineCode",{parentName:"li"},"GOROOT")," to ",(0,i.kt)("inlineCode",{parentName:"li"},"/nix/var/nix/profiles/mymove/bin/go"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Note that once you add it, Goland will resolve it to the actual path (the one above is a link), so it\u2019ll look\nsomething like ",(0,i.kt)("inlineCode",{parentName:"li"},"/nix/store/rv16prybnsmav8w1sqdgr80jcwsja98q-go-1.19.3/bin/go")))),(0,i.kt)("li",{parentName:"ul"},"Update ",(0,i.kt)("inlineCode",{parentName:"li"},"GOPATH")," to point to the ",(0,i.kt)("inlineCode",{parentName:"li"},".gopath")," dir in the ",(0,i.kt)("inlineCode",{parentName:"li"},"mymove")," repo",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"You may need to create the ",(0,i.kt)("inlineCode",{parentName:"li"},".gopath")," dir yourself."))),(0,i.kt)("li",{parentName:"ul"},"Update Node and NPM:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Node interpreter: ",(0,i.kt)("inlineCode",{parentName:"li"},"/nix/var/nix/profiles/mymove/bin/node")),(0,i.kt)("li",{parentName:"ul"},"Package manager:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"This might be fixed automatically, but if not, you can point it ",(0,i.kt)("inlineCode",{parentName:"li"},"/nix/var/nix/profiles/mymove/bin/yarn")),(0,i.kt)("li",{parentName:"ul"},"Similar to ",(0,i.kt)("inlineCode",{parentName:"li"},"GOROOT"),", it will resolve to something that looks like\n",(0,i.kt)("inlineCode",{parentName:"li"},"/nix/store/cnmxp5isc3ck1bm11zryy8dnsbnm87wk-yarn-1.22.10/libexec/yarn"))))))))}m.isMDXComponent=!0}}]);