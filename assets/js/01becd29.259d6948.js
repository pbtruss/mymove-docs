"use strict";(self.webpackChunkmymove_docs=self.webpackChunkmymove_docs||[]).push([[2321],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>u});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),c=p(a),u=i,h=c["".concat(s,".").concat(u)]||c[u]||d[u]||r;return a?n.createElement(h,o(o({ref:t},m),{},{components:a})):n.createElement(h,o({ref:t},m))}));function u(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},27427:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var n=a(87462),i=(a(67294),a(3905));const r={title:"0004 Use Both Absolute and Relative Paths for Imports"},o="Use Both Absolute and Relative Paths for Imports",l={unversionedId:"adrs/path-imports",id:"adrs/path-imports",title:"0004 Use Both Absolute and Relative Paths for Imports",description:"Imports should be as easy to use and consistent as possible across the project.",source:"@site/docs/adrs/0004-path-imports.md",sourceDirName:"adrs",slug:"/adrs/path-imports",permalink:"/mymove-docs/docs/adrs/path-imports",draft:!1,editUrl:"https://github.com/transcom/mymove-docs/edit/main/docs/adrs/0004-path-imports.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"0004 Use Both Absolute and Relative Paths for Imports"},sidebar:"adrsSidebar",previous:{title:"0003 Go path and project layout",permalink:"/mymove-docs/docs/adrs/go-path-and-project-layout"},next:{title:"0005 Use Create React App",permalink:"/mymove-docs/docs/adrs/create-react-app"}},s={},p=[{value:"Considered Alternatives",id:"considered-alternatives",level:2},{value:"Decision Outcome",id:"decision-outcome",level:2},{value:"Pros and Cons of the Alternatives",id:"pros-and-cons-of-the-alternatives",level:2},{value:"Absolute Paths",id:"absolute-paths",level:3},{value:"Relative Paths",id:"relative-paths",level:3}],m={toc:p};function d(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"use-both-absolute-and-relative-paths-for-imports"},"Use Both Absolute and Relative Paths for Imports"),(0,i.kt)("p",null,"Imports should be as easy to use and consistent as possible across the project."),(0,i.kt)("p",null,"Create-react-app allows for either relative or absolute imports.\nDevelopers should maintain consistent patterns, best set early on."),(0,i.kt)("h2",{id:"considered-alternatives"},"Considered Alternatives"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Relative Paths"),": depending on where in the app the import is, to get to the same file (",(0,i.kt)("inlineCode",{parentName:"li"},"feedback.jsx"),") could look like either of the following",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"./feedback.jsx")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"../../../src/scenes/feedback/feedback.jsx")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Absolute Paths"),": For both of the above examples, the absolute path is the same",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"scenes/feedback/feedback.jsx")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Implementation"),":",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"NODE_PATH")," to ",(0,i.kt)("inlineCode",{parentName:"li"},".env")," file--this file contains environment variables that are sourced into the shell that runs the app. Typically, it's not checked into Git. However, in this case, it would be, because we would want all devs to be able to use this same variable. So we'd be somewhat altering the ",(0,i.kt)("inlineCode",{parentName:"li"},".env")," file's intended application."),(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"NODE_PATH")," to build scripts in ",(0,i.kt)("inlineCode",{parentName:"li"},"packages.json"),". Avoid using the ",(0,i.kt)("inlineCode",{parentName:"li"},".env")," file altogether, and set the necessary variable before each script is run."))))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Combination"),": Use whichever option is cleanest and easiest to understand.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"./feedback.jsx")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"scenes/feedback/feedback.jsx"))))),(0,i.kt)("h2",{id:"decision-outcome"},"Decision Outcome"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Chosen Alternative: ",(0,i.kt)("em",{parentName:"p"},"Combination"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Absolute Paths allow developers to immediately understand where imports are coming from. They also allow files to be moved without changing all the local import statements. The clarity of these imports will become more valuable should our project structure become more nested.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Meanwhile, using relative paths allows developers not to be dogmatic when importing a module from within the same dir, and acknowledges that all imports outside of the ",(0,i.kt)("inlineCode",{parentName:"p"},"src/")," dir require relative paths.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Our policy is that relative paths should only be used on imports ",(0,i.kt)("strong",{parentName:"p"},"outside of the ",(0,i.kt)("inlineCode",{parentName:"strong"},"src/")," dir and when importing from within the same directory"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Consequence: Our implementation sets the NODE_PATH environment variable before each build script in ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")))),(0,i.kt)("h2",{id:"pros-and-cons-of-the-alternatives"},"Pros and Cons of the Alternatives"),(0,i.kt)("h3",{id:"absolute-paths"},"Absolute Paths"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"+")," Are consistent no matter the complexity of relationship between import and module"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"+")," Developers can immediately see the origin of the import"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"+")," Should structure of files change, all imports can remain the same"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"+")," Can copy/paste imports between files"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-")," Cannot use without setting a NODE_PATH var"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-")," Cannot use for all paths--such as those outside of ",(0,i.kt)("inlineCode",{parentName:"li"},"src/")," dir"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-")," In cases of import from a close module, unnecessarily lengthy")),(0,i.kt)("h3",{id:"relative-paths"},"Relative Paths"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"+")," Can use without setting a NODE_PATH var"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"+")," Can use for all paths--even those outside of ",(0,i.kt)("inlineCode",{parentName:"li"},"src/")," dir"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-")," Become chaotic and sloppy if imports traverse many directories"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-")," Developers cannot immediately see the origin of the import"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-")," Should structure of files change, all imports have to be changed as well"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-")," Cannot copy/paste imports between files")))}d.isMDXComponent=!0}}]);