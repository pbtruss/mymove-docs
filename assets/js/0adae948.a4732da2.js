"use strict";(self.webpackChunkmymove_docs=self.webpackChunkmymove_docs||[]).push([[2208],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>p});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=o.createContext({}),c=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=c(e.components);return o.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,u=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=c(n),p=a,h=m["".concat(u,".").concat(p)]||m[p]||d[p]||r;return n?o.createElement(h,i(i({ref:t},l),{},{components:n})):o.createElement(h,i({ref:t},l))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var c=2;c<r;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},12271:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var o=n(87462),a=(n(67294),n(3905));const r={sidebar_position:2},i="Redocusaurus",s={unversionedId:"tools/docusaurus/redocusaurus",id:"tools/docusaurus/redocusaurus",title:"Redocusaurus",description:"This documentation is helpful for anyone editing documentation related to the",source:"@site/docs/tools/docusaurus/redocusaurus.md",sourceDirName:"tools/docusaurus",slug:"/tools/docusaurus/redocusaurus",permalink:"/mymove-docs/docs/tools/docusaurus/redocusaurus",draft:!1,editUrl:"https://github.com/transcom/mymove-docs/edit/main/docs/tools/docusaurus/redocusaurus.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"toolsSidebar",previous:{title:"Using Docusaurus",permalink:"/mymove-docs/docs/tools/docusaurus/"},next:{title:"Locust",permalink:"/mymove-docs/docs/tools/locust/"}},u={},c=[{value:"What is Redocusaurus?",id:"what-is-redocusaurus",level:2},{value:"Redocusaurus configuration",id:"redocusaurus-configuration",level:2},{value:"Working with local changes to Swagger files",id:"working-with-local-changes-to-swagger-files",level:2},{value:"The two repositories",id:"the-two-repositories",level:3},{value:"Updating the Docusaurus configuration",id:"updating-the-docusaurus-configuration",level:3},{value:"Viewing changes in local Docusaurus",id:"viewing-changes-in-local-docusaurus",level:3},{value:"Undoing local configuration for Redocusaurus",id:"undoing-local-configuration-for-redocusaurus",level:2}],l={toc:c};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"redocusaurus"},"Redocusaurus"),(0,a.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"This documentation is helpful for anyone editing documentation related to the\nSwagger API definitions. It is helpful to understand those concepts first before\ndiving into this documentation."))),(0,a.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"This documentation leverages multiple projects that could lead to confusing\nerror messages and warnings. For help, please reach out in\n",(0,a.kt)("a",{parentName:"p",href:"https://ustcdp3.slack.com/archives/C027BDJ4678"},"#wg-documentation"),"\ud83d\udd12 if you get stuck."))),(0,a.kt)("h2",{id:"what-is-redocusaurus"},"What is Redocusaurus?"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/rohit-gohri/redocusaurus"},"Redocusaurus")," is a preset for Docusaurus. See ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/rohit-gohri/redocusaurus/tree/main/packages/redocusaurus"},"the packages\ndocumentation")," for more general information about\nRedocusaurus. The purpose of this documentation is to help MilMove developers\nunderstand how the preset is integrated into Docusaurus and how to work with it\nlocally."),(0,a.kt)("h2",{id:"redocusaurus-configuration"},"Redocusaurus configuration"),(0,a.kt)("p",null,"The presets for Docusaurus are set in the ",(0,a.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js")," file in the\n",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove-docs")," repository. See ",(0,a.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/presets"},"the official Docusaurus\ndocumentation")," on using presets for more general information."),(0,a.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"The way ",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove-docs")," uses this is by leveraging the raw GitHub URLs\nfor the Yaml files found in ",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove"),". This means the API documentation\nis in sync with the default branch for the ",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove")," repository. This\nmeans that until your Swagger file changes are merged into the default branch of\n",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove")," you cannot view the changes in the ",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove-docs"),"\nrepository."))),(0,a.kt)("p",null,"You can see this in the ",(0,a.kt)("inlineCode",{parentName:"p"},"./docusaurus.config.js")," file under the ",(0,a.kt)("inlineCode",{parentName:"p"},"presets")," named\n",(0,a.kt)("inlineCode",{parentName:"p"},"redocusaurus"),"."),(0,a.kt)("h2",{id:"working-with-local-changes-to-swagger-files"},"Working with local changes to Swagger files"),(0,a.kt)("p",null,"To view changes to the Swagger documentation locally with Docusaurus, you need\nto have both repositories cloned on your machine. While you will be working with\ntwo repositories, the actual commits associated with these changes will happen\nin the ",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove")," repository and not in the ",(0,a.kt)("inlineCode",{parentName:"p"},"trancom/mymove-docs"),"\nrepository."),(0,a.kt)("h3",{id:"the-two-repositories"},"The two repositories"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/transcom/mymove"},"https://github.com/transcom/mymove")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/transcom/mymove-docs"},"https://github.com/transcom/mymove-docs"))),(0,a.kt)("h3",{id:"updating-the-docusaurus-configuration"},"Updating the Docusaurus configuration"),(0,a.kt)("p",null,"Once you have these repositories cloned locally, you will need to edit the\n",(0,a.kt)("inlineCode",{parentName:"p"},"documentation.config.js")," file to leverage the ",(0,a.kt)("inlineCode",{parentName:"p"},"spec:")," property instead of the\n",(0,a.kt)("inlineCode",{parentName:"p"},"specUrl")," property."),(0,a.kt)("p",null,"The Git patch below shows what these changes would look like locally. The main\nthing to consider here is the location of the Swagger specification. In the\nexample below, it is relative to the ",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove-docs")," repository."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="Updates to specification paths" {9,10,14,15}',title:'"Updates',to:!0,specification:!0,'paths"':!0,"{9,10,14,15}":!0},"diff --git a/docusaurus.config.js b/docusaurus.config.js\nindex 697ffef..30fdcc4 100644\n--- a/docusaurus.config.js\n+++ b/docusaurus.config.js\n@@ -144,11 +144,11 @@ module.exports = {\n       {\n         specs: [\n           {\n-            specUrl: 'https://raw.githubusercontent.com/transcom/mymove/master/swagger/prime.yaml',\n+            spec: '../mymove/swagger/prime.yaml',\n             routePath: '/api/prime',\n           },\n           {\n-            specUrl: 'https://raw.githubusercontent.com/transcom/mymove/master/swagger/support.yaml',\n+            spec: '../mymove/swagger/support.yaml',\n             routePath: '/api/support',\n           },\n         ],\n")),(0,a.kt)("h3",{id:"viewing-changes-in-local-docusaurus"},"Viewing changes in local Docusaurus"),(0,a.kt)("p",null,"Now that you have updated the ",(0,a.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js")," with the changes mentioned\nabove, you will need to edit Swagger files found in ",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove")," under\n",(0,a.kt)("inlineCode",{parentName:"p"},"swagger-def/")," and then run the ",(0,a.kt)("inlineCode",{parentName:"p"},"make swagger_generate")," command in order for\nthem to show up in Docusaurus."),(0,a.kt)("p",null,"You will have to repeat this section for every change to the Swagger files. Make\nsure you have the ",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove-docs")," server running locally. Whenever there\nare changes to the ",(0,a.kt)("inlineCode",{parentName:"p"},"trancom/mymove/swagger/*.yaml")," files mentioned above,\nDocusaurus will helpfully reload the page. Because of interconnectedness of\ndifferent technology, you may have to run the ",(0,a.kt)("inlineCode",{parentName:"p"},"make swagger_generate")," command\nmore than once if the changes aren't being reflected in your local Docusaurus\nAPI page."),(0,a.kt)("h2",{id:"undoing-local-configuration-for-redocusaurus"},"Undoing local configuration for Redocusaurus"),(0,a.kt)("p",null,"If the only changes that were made to ",(0,a.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js")," are related to the\nRedocusaurus, you can easily discard these changes using the following Git\ncommand in the terminal. Please make sure you do this after you've committed\nchanges in ",(0,a.kt)("inlineCode",{parentName:"p"},"transcom/mymove")," which are related to the Swagger documentation."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git checkout -- docusaurus.config.js\n")))}d.isMDXComponent=!0}}]);