"use strict";(self.webpackChunkmymove_docs=self.webpackChunkmymove_docs||[]).push([[6490],{3905:function(e,t,o){o.d(t,{Zo:function(){return p},kt:function(){return k}});var n=o(67294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l=n.createContext({}),d=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},p=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=d(o),k=r,h=u["".concat(l,".").concat(k)]||u[k]||c[k]||a;return o?n.createElement(h,i(i({ref:t},p),{},{components:o})):n.createElement(h,i({ref:t},p))}));function k(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var d=2;d<a;d++)i[d]=o[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}u.displayName="MDXCreateElement"},95455:function(e,t,o){o.r(t),o.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return d},toc:function(){return p},default:function(){return u}});var n=o(87462),r=o(63366),a=(o(67294),o(3905)),i=["components"],s={},l="How to Use and Run Storybook",d={unversionedId:"frontend/setup/run-storybook",id:"frontend/setup/run-storybook",isDocsHomePage:!1,title:"How to Use and Run Storybook",description:"Table of Contents",source:"@site/docs/frontend/setup/run-storybook.md",sourceDirName:"frontend/setup",slug:"/frontend/setup/run-storybook",permalink:"/mymove-docs/docs/frontend/setup/run-storybook",editUrl:"https://github.com/transcom/mymove-docs/edit/main/docs/frontend/setup/run-storybook.md",tags:[],version:"current",frontMatter:{},sidebar:"frontendSidebar",previous:{title:"Designers's guide to setting up app locally",permalink:"/mymove-docs/docs/frontend/setup/designers-guide-to-setting-up-app-locally"},next:{title:"How To Call Swagger Endpoints from React",permalink:"/mymove-docs/docs/frontend/guides/access-swagger-endpoints-from-react"}},p=[{value:"Table of Contents",id:"table-of-contents",children:[]},{value:"What is Storybook",id:"what-is-storybook",children:[]},{value:"Basics",id:"basics",children:[{value:"Option A: Running with tooling installed locally",id:"option-a-running-with-tooling-installed-locally",children:[]},{value:"Option B: Running in a docker container",id:"option-b-running-in-a-docker-container",children:[]}]},{value:"Adding Stories",id:"adding-stories",children:[{value:"Addons",id:"addons",children:[]},{value:"Testing Stories",id:"testing-stories",children:[]},{value:"Story changes require approval of Design",id:"story-changes-require-approval-of-design",children:[]}]}],c={toc:p};function u(e){var t=e.components,o=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"how-to-use-and-run-storybook"},"How to Use and Run Storybook"),(0,a.kt)("h2",{id:"table-of-contents"},"Table of Contents"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#what-is-storybook"},"What is Storybook")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#basics"},"Basics"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#option-a-running-with-tooling-installed-locally"},"Option A: Running with tooling installed locally"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#dependencies"},"Dependencies")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#how-to-run-storybook-server-locally"},"How to run storybook server locally")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#how-to-generate-static-storybook-site-files"},"How to generate static storybook site files")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#option-b-running-in-a-docker-container"},"Option B: Running in a docker container")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#adding-stories"},"Adding Stories"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#addons"},"Addons"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#actions"},"Actions")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#knobs"},"Knobs")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#testing-stories"},"Testing Stories")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#story-changes-require-approval-of-design"},"Story changes require approval of Design"))))),(0,a.kt)("p",null,'Regenerate with "pre-commit run -a markdown-toc"'),(0,a.kt)("h2",{id:"what-is-storybook"},"What is Storybook"),(0,a.kt)("p",null,"Storybook is a user interface development environment and playground for UI components. The tool enables developers to create components independently and showcase components interactively in an isolated development environment. ",(0,a.kt)("a",{parentName:"p",href:"https://storybook.js.org/docs/basics/introduction/"},"Read more here")),(0,a.kt)("h2",{id:"basics"},"Basics"),(0,a.kt)("p",null,"Storybook expects ",(0,a.kt)("em",{parentName:"p"},"stories")," to be defined for each component to be showcased. These stories are defined in the stories directory ",(0,a.kt)("inlineCode",{parentName:"p"},"src/stories")),(0,a.kt)("h3",{id:"option-a-running-with-tooling-installed-locally"},"Option A: Running with tooling installed locally"),(0,a.kt)("p",null,"This is the flow that most engineers will likely take since they probably have all the dependencies installed already."),(0,a.kt)("h4",{id:"dependencies"},"Dependencies"),(0,a.kt)("p",null,"If this is your first time running storybook you should run ",(0,a.kt)("inlineCode",{parentName:"p"},"make client_deps")," first to ensure storybook packages are installed"),(0,a.kt)("h4",{id:"how-to-run-storybook-server-locally"},"How to run storybook server locally"),(0,a.kt)("p",null,"To see the components locally simply run ",(0,a.kt)("inlineCode",{parentName:"p"},"make storybook")," and the server will start and automatically open a browser window. If not open ",(0,a.kt)("a",{parentName:"p",href:"http://localhost:6006"},"http://localhost:6006")),(0,a.kt)("h4",{id:"how-to-generate-static-storybook-site-files"},"How to generate static storybook site files"),(0,a.kt)("p",null,"If you wish to generate the static version of storybook run ",(0,a.kt)("inlineCode",{parentName:"p"},"make build_storybook")," and the command will generate the files in ",(0,a.kt)("inlineCode",{parentName:"p"},"storybook-static")),(0,a.kt)("h3",{id:"option-b-running-in-a-docker-container"},"Option B: Running in a docker container"),(0,a.kt)("p",null,"If you don't have all the typical development tools installed this will walk you through running storybook without that. It does require docker to be installed you can get Docker CE for Mac from ",(0,a.kt)("a",{parentName:"p",href:"https://download.docker.com/mac/stable/Docker.dmg"},"here"),". Detailed instructions for installation can be found in the ",(0,a.kt)("a",{parentName:"p",href:"https://docs.docker.com/docker-for-mac/install/"},"Docker for Mac Documentation")),(0,a.kt)("p",null,"Once Docker CE for Mac is installed run the ",(0,a.kt)("inlineCode",{parentName:"p"},"make storybook_docker")," command to start the storybook server. This will not automatically start your browser so once you see the below you can open ",(0,a.kt)("a",{parentName:"p",href:"http://localhost:6006/"},"http://localhost:6006/")," and view storybook."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-console"},">$ make storybook_docker\nstorybook_1  | webpack built e8e291d7822d6638fa63 in 18740ms\nstorybook_1  | \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\nstorybook_1  | \u2502                                                 \u2502\nstorybook_1  | \u2502   Storybook 5.3.14 started                      \u2502\nstorybook_1  | \u2502   15 s for manager and 20 s for preview         \u2502\nstorybook_1  | \u2502                                                 \u2502\nstorybook_1  | \u2502    Local:            http://localhost:6006/     \u2502\nstorybook_1  | \u2502    On your network:  http://172.18.0.2:6006/    \u2502\nstorybook_1  | \u2502                                                 \u2502\nstorybook_1  | \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n")),(0,a.kt)("h2",{id:"adding-stories"},"Adding Stories"),(0,a.kt)("p",null,"To showcase a component add the ",(0,a.kt)("em",{parentName:"p"},"stories")," to the ",(0,a.kt)("inlineCode",{parentName:"p"},"src/stories")," folder in an appropriate file. The storybook documentation on ",(0,a.kt)("a",{parentName:"p",href:"https://storybook.js.org/docs/basics/writing-stories/"},"Writing Stories")," is a good place to start with how to create ones. If there is not an appropriate file you need to create a new file in the pattern ",(0,a.kt)("inlineCode",{parentName:"p"},"componentName.stories.js")," in the src/stories directory, and then modify the ",(0,a.kt)("inlineCode",{parentName:"p"},".storybook/config.js")," file to include your new file in the generated site."),(0,a.kt)("h3",{id:"addons"},"Addons"),(0,a.kt)("p",null,"Stories in Storybook can use addons to extend the features of Storybook. Some addons already included are the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/storybookjs/storybook/tree/master/addons/actions"},"actions")," and ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/storybookjs/storybook/tree/master/addons/knobs"},"knobs")," addons. The controls for each of these addons shows up in a pane at the bottom of the page where they are used. If you cannot find the pane try toggling the ",(0,a.kt)("em",{parentName:"p"},"Change addons orientation")," from the ellipsis menu next to the logo in the upper left, or using the ",(0,a.kt)("strong",{parentName:"p"},"D")," keyboard short cut to toggle it."),(0,a.kt)("h4",{id:"actions"},"Actions"),(0,a.kt)("p",null,"Storybook Addon Actions can be used to display data received by event handlers in Storybook. See ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/storybookjs/storybook/tree/master/addons/actions"},"the documentation")," for more details."),(0,a.kt)("h4",{id:"knobs"},"Knobs"),(0,a.kt)("p",null,"Storybook Addon Knobs allow you to edit props dynamically using the Storybook UI. You can also use Knobs as a dynamic variable inside stories in Storybook. See ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/storybookjs/storybook/tree/master/addons/knobs"},"the documentation")," for more details."),(0,a.kt)("h3",{id:"testing-stories"},"Testing Stories"),(0,a.kt)("p",null,"We use ",(0,a.kt)("a",{parentName:"p",href:"https://loki.js.org/"},"Loki")," for testing our storybook stories. You will need to approve any changes to the reference images before a build will pass. Read ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/transcom/mymove/wiki/run-loki-tests-against-storybook"},"How to Run Loki tests against Storybook")," for details."),(0,a.kt)("h3",{id:"story-changes-require-approval-of-design"},"Story changes require approval of Design"),(0,a.kt)("p",null,"As part of the new process of Design and Engineering collaboration, the design team has been made code owners of the code in ",(0,a.kt)("inlineCode",{parentName:"p"},"src/stories")," and the reference, i.e. approved, images in ",(0,a.kt)("inlineCode",{parentName:"p"},".loki/reference"),". So if you are adding a new story, modifying an existing one, or updating Loki reference images you will be required to have a designer give their approval on the GitHub PR."))}u.isMDXComponent=!0}}]);