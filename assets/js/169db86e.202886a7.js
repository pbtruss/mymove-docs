"use strict";(self.webpackChunkmymove_docs=self.webpackChunkmymove_docs||[]).push([[5162],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=p(a),d=r,h=u["".concat(s,".").concat(d)]||u[d]||c[d]||i;return a?n.createElement(h,o(o({ref:t},m),{},{components:a})):n.createElement(h,o({ref:t},m))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},92591:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const i={sidebar_position:7},o="How to run the GHC Transit Time Import and Verify Data",l={unversionedId:"backend/guides/ghc/ghc-transit-time-import",id:"backend/guides/ghc/ghc-transit-time-import",title:"How to run the GHC Transit Time Import and Verify Data",description:"To support loading GHC Transit Time data you can use the bin/ghc-transit-time-parser to do so.",source:"@site/docs/backend/guides/ghc/ghc-transit-time-import.md",sourceDirName:"backend/guides/ghc",slug:"/backend/guides/ghc/ghc-transit-time-import",permalink:"/mymove-docs/docs/backend/guides/ghc/ghc-transit-time-import",draft:!1,editUrl:"https://github.com/transcom/mymove-docs/edit/main/docs/backend/guides/ghc/ghc-transit-time-import.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"backendSidebar",previous:{title:"How to run the GHC Pricing Import and Verify Data",permalink:"/mymove-docs/docs/backend/guides/ghc/ghc-pricing-import"},next:{title:"How data will be imported into production",permalink:"/mymove-docs/docs/backend/guides/ghc/ghc-import-pricing-production"}},s={},p=[{value:"Running the parser",id:"running-the-parser",level:2},{value:"Verifying the data",id:"verifying-the-data",level:2},{value:"1. Make sure csv data matches expectation",id:"1-make-sure-csv-data-matches-expectation",level:3},{value:"Useful Command Options",id:"useful-command-options",level:2}],m={toc:p};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-to-run-the-ghc-transit-time-import-and-verify-data"},"How to run the GHC Transit Time Import and Verify Data"),(0,r.kt)("p",null,"To support loading GHC Transit Time data you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"bin/ghc-transit-time-parser")," to do so."),(0,r.kt)("h2",{id:"running-the-parser"},"Running the parser"),(0,r.kt)("p",null,"You will need to build the parser first."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"make bin/ghc-transit-time-parser\n")),(0,r.kt)("p",null,"Once built you can run the command."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"bin/ghc-transit-time-parser --display --filename [path to your file]/Appendix_C\\(i\\)_-_Transit_Time_Tables.xlsx\n")),(0,r.kt)("p",null,"Once complete move on to the next section to verify the import"),(0,r.kt)("h2",{id:"verifying-the-data"},"Verifying the data"),(0,r.kt)("p",null,"The script will output the transit time table model."),(0,r.kt)("p",null,"To do the verification, open the newly created csv file located in the directory where the parser was ran."),(0,r.kt)("h3",{id:"1-make-sure-csv-data-matches-expectation"},"1. Make sure csv data matches expectation"),(0,r.kt)("p",null,"The pricing parser will output the csv file, compare this to the data in the spreadsheet. For example the csv data is found in the pricing template sheet ",(0,r.kt)("inlineCode",{parentName:"p"},"domestic"),"."),(0,r.kt)("p",null,"Once you find the main source of the information you can verify that the number of rows reported in the summary is the same as the number of rows in the matching table."),(0,r.kt)("p",null,"Pricing parser output example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'2020-03-18T02:59:31.535Z        INFO    transittime/parse_transit_times.go:69           {"DomesticTransitTime": {"ID":"493fae77-e55c-4d9d-aa3a-1641558e8a2b","MaxDaysTransitTime":32,"WeightLbsLower":8000,"WeightLbsUpper":0,"DistanceMilesLower":6751,"DistanceMilesUpper":7000}}\n2020/03/18 02:59:31 File created:\n2020/03/18 02:59:31 1_hhg_domestic_transit_times_domestic_20200318025931.csv\n2020/03/18 02:59:31 Completed processing sheet index 1 with Description HHG Domestic Transit Times\n')),(0,r.kt)("h2",{id:"useful-command-options"},"Useful Command Options"),(0,r.kt)("p",null,"You can run the parser with the ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")," flag to see all possible options. Below is a selection of the most commonly needed flags:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--filename string")," ",(0,r.kt)("strong",{parentName:"li"},"Required"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Filename (including path) of the XLSX to parse for the GHC transit time data import"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--save-csv"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Save output of XLSX sheets to CSV file (default true)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--display"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Display output of parsed info (default false)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--db-env string"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'Database environment: container, test, development (default "development")'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--db-name string"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'Database name (default "dev_db")'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--db-host string"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'Database hostname (default "localhost")'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--db-port int"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Database port (default 5432)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--db-user string"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'Database username (default "postgres")'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--db-password string"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Database password")))))}c.isMDXComponent=!0}}]);