"use strict";(self.webpackChunkmymove_docs=self.webpackChunkmymove_docs||[]).push([[1071],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>h});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),c=p(a),h=o,u=c["".concat(l,".").concat(h)]||c[h]||d[h]||i;return a?n.createElement(u,r(r({ref:t},m),{},{components:a})):n.createElement(u,r({ref:t},m))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,r=new Array(i);r[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var p=2;p<i;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},20717:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=a(87462),o=(a(67294),a(3905));const i={sidebar_position:2},r="Overview",s={unversionedId:"about/overview-of-milmove",id:"about/overview-of-milmove",title:"Overview",description:"While this page has been migrated and organized, some sections of this",source:"@site/docs/about/overview-of-milmove.md",sourceDirName:"about",slug:"/about/overview-of-milmove",permalink:"/mymove-docs/docs/about/overview-of-milmove",draft:!1,editUrl:"https://github.com/transcom/mymove-docs/edit/main/docs/about/overview-of-milmove.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"aboutSidebar",previous:{title:"Welcome to the MilMove Wiki!",permalink:"/mymove-docs/docs/about/"},next:{title:"Users in MilMove",permalink:"/mymove-docs/docs/about/security/user-management"}},l={},p=[{value:"The Apps",id:"the-apps",level:3},{value:"The APIs",id:"the-apis",level:3},{value:"Architecture",id:"architecture",level:2},{value:"Pop",id:"pop",level:3},{value:"Swagger",id:"swagger",level:3},{value:"Historical apps need update",id:"historical-apps-need-update",level:3}],m={toc:p};function d(e){let{components:t,...i}=e;return(0,o.kt)("wrapper",(0,n.Z)({},m,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"overview"},"Overview"),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"About this page")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"While this page has been migrated and organized, some sections of this\ndocumentation may be out-of-date and will be updated in the future."))),(0,o.kt)("p",null,'MilMove is a system to help service members (and other authorized personnel) move their gear and possessions from one place to another.\nIt also allows the GHC "Prime" Contractor to request payment for services.'),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"overview of milmove apis",src:a(52563).Z,width:"1264",height:"662"})),(0,o.kt)("h3",{id:"the-apps"},"The Apps"),(0,o.kt)("p",null,"There are three websites (React apps) that compose the front end of the system:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Milmove app"),", located at ",(0,o.kt)("inlineCode",{parentName:"p"},"https://my.move.mil")),(0,o.kt)("p",{parentName:"li"},"This app is used by the people moving, namely the service members and their family.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Office app"),", located at ",(0,o.kt)("inlineCode",{parentName:"p"},"https://office.move.mil")),(0,o.kt)("p",{parentName:"li"},"This app is used by the ",(0,o.kt)("a",{parentName:"p",href:"/mymove-docs/docs/about/security/user-management#office-user"},"Office users")," to review/approve/reject moves and payments.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Prime UI app"),", located as a Prime Simulator Role user within the Office app\nin ",(0,o.kt)("strong",{parentName:"p"},"non-Production systems"),"."),(0,o.kt)("p",{parentName:"li"},"This app is used by testers to simulate actions of the GHC Prime contractor. The Office user must be granted Prime Simulator Role by an Administrator.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Admin app"),", located at ",(0,o.kt)("inlineCode",{parentName:"p"},"https://admin.move.mil")),(0,o.kt)("p",{parentName:"li"},"This app is used by ",(0,o.kt)("a",{parentName:"p",href:"/mymove-docs/docs/about/security/user-management#admin-user"},"Administrators")," to create new ",(0,o.kt)("a",{parentName:"p",href:"https://office.move.mil"},"https://office.move.mil")," users and grant permissions for various office roles."))),(0,o.kt)("p",null,"The links above are for the Production versions of the site. We have multiple\ndeployed environments and you can ",(0,o.kt)("a",{parentName:"p",href:"https://dp3.atlassian.net/wiki/spaces/MT/pages/1383530526/Deploying+MilMove+to+Production"},"read more about those\nhere"),"."),(0,o.kt)("h3",{id:"the-apis"},"The APIs"),(0,o.kt)("p",null,"The websites listed above are served by our APIs. However there are 2 APIs for which we don't develop a front-end website. Instead they are external facing APIs for the Prime contractor and armed services to interact with."),(0,o.kt)("p",null,"The two external facing APIs are served over mTLS, which is a higher security protocol than the apps use."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Prime API"),", which is used by the GHC contractor, referred to in our system as the ",(0,o.kt)("em",{parentName:"p"},"Prime"),"."),(0,o.kt)("p",{parentName:"li"},"The Prime is the contractor who will handle all moves for USTC. Once a customer (service member or related) has entered their information in Milmove and the office user has released the move, the Prime will then perform the move. They will use the API to inform milmove of the details of the move, dates, weights, addresses. They will also use these APIs to send invoices for the move."))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Prime is just an internal name for the GHC contractor."))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Orders API"),", which is used by the services to send us ",(0,o.kt)("em",{parentName:"p"},"orders"),"."),(0,o.kt)("p",{parentName:"li"},"Service members receive ",(0,o.kt)("em",{parentName:"p"},"orders"),' to move, which include information about the destination as well as authorizations for various kinds of storage, conveyance, per diem allowances, and many more details. Currently Orders information is entered into the system manually by office personnel from a PDF. However, the Orders API is receiving that data directly from the services and eventually that data will be used as the source of truth. That process is called "Orders Ingestion". The process of getting that data into the system for use with moves is called "Orders Integration".'))),(0,o.kt)("h2",{id:"architecture"},"Architecture"),(0,o.kt)("p",null,"The architecture for milmove uses a Postgres database, which is accessed by a Go backend, with an ORM called Pop. We then use Swagger to define the APIs which are accessed by the React apps, as well as the external APIs."),(0,o.kt)("p",null,"The code for milmove, including all these apps and APIs, resides in the ",(0,o.kt)("strong",{parentName:"p"},"transcom/mymove")," repo."),(0,o.kt)("p",null,"Here's a simplified picture of the technologies used."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"tech stack of milmove",src:a(98272).Z,width:"911",height:"457"})),(0,o.kt)("h3",{id:"pop"},"Pop"),(0,o.kt)("p",null,"Pop is an an ORM, which allows us to translate database tables into Go structs. Using pop, we can manipulate Go structs instead of writing SQL statements. The Go structs are called models."),(0,o.kt)("p",null,"We use Pop to"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Read, validate and write models to the database.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Run migrations on the database")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Handle and execute queries to the database"))),(0,o.kt)("p",null,"Read more about Pop here: ",(0,o.kt)("a",{parentName:"p",href:"https://gobuffalo.io/en/docs/db/getting-started"},"https://gobuffalo.io/en/docs/db/getting-started")),(0,o.kt)("h3",{id:"swagger"},"Swagger"),(0,o.kt)("p",null,"Swagger is a way to specify the APIs. We use Swagger to tie the front and back ends together. The Swagger code is found in ",(0,o.kt)("inlineCode",{parentName:"p"},"*.yaml")," files and describes the endpoints and payloads of the API."),(0,o.kt)("p",null,"It's useful in several ways"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Go boilerplate code is generated from the Swagger files."),(0,o.kt)("p",{parentName:"li"},"This is done using a library called ",(0,o.kt)("inlineCode",{parentName:"p"},"go-swagger"),". That code is automatically updated when a Swagger file is changed. These generated files are in ",(0,o.kt)("inlineCode",{parentName:"p"},"/pkg/gen"),". The developer must then add the business logic.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Swagger UI or Redoc generates documentation for users of the API directly from the yaml."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"For TLS APIs, we can test endpoints from within the doc itself.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"For mTLS APIs, you can view non-interactive documentation on this very site.\nClick on the ",(0,o.kt)("strong",{parentName:"p"},"APIs")," menu item at the top of this page.")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Swagger also has a JS client that generates a set of API functions that are hooked into the React apps giving them easier access to the data."))),(0,o.kt)("p",null,"Read more about Swagger here: ",(0,o.kt)("a",{parentName:"p",href:"https://swagger.io/docs/specification/2-0/what-is-swagger/"},"https://swagger.io/docs/specification/2-0/what-is-swagger/")),(0,o.kt)("h3",{id:"historical-apps-need-update"},"Historical apps ","[need update]"),(0,o.kt)("p",null,"In addition to the front end interfaces, MilMove comprises a set of APIs that work over Mutual TLS:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"GEX"),": Global Exchange. GEX enables the exchange of transaction data between the DoD and private entities. We use it during the invoicing phase of the move."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"DPS"),": This is also the name of the system MilMove is replacing, but in terms of APIs, DPS acts as an authenticator that will route a user to DPS or MilMove, as appropriate."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Historical note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The history of the project is detailed in the MilMove onboarding document, but\none thing for application engineers to keep in mind is that as of this writing,\nin early 2020, there are two different supported approaches to moves, with one\nbeing phased out, but still present in parts of the code. The old model of moves\nincluded PPM (Personally Procured Moves--do it yourself and get reimbursed) and\nHHG (HouseHold Goods moves--the government hires a moving company for you). In\nthat rubric, there was no explicit role system for Office app users. We are now\nphasing out HHG moves in favor of GHC (Global Household goods Contract) moves,\nin which a single company will handle all subcontracting for moves and explicit\nroles, like Transportation Ordering Officer (TOO) and Transportation Invoicing\nOfficer (TIO), are defined and assigned."))))}d.isMDXComponent=!0},52563:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/milmove_api-f8d41f94cebaf6764ca634506b2c4767.png"},98272:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/milmove_arch_simple-2892269190f220b83b12d437a5d93f05.png"}}]);