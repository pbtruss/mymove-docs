"use strict";(self.webpackChunkmymove_docs=self.webpackChunkmymove_docs||[]).push([[9263],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>p});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),d=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=d(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=d(n),p=r,f=m["".concat(s,".").concat(p)]||m[p]||u[p]||i;return n?o.createElement(f,a(a({ref:t},c),{},{components:n})):o.createElement(f,a({ref:t},c))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var d=2;d<i;d++)a[d]=n[d];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},97649:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var o=n(87462),r=(n(67294),n(3905));const i={title:"0038 Use Soft Delete Instead of Hard Delete",description:"Decision outcome: Introduce soft deletion into the system\n"},a="Use Soft Delete Instead of Hard Delete",l={unversionedId:"adrs/soft-delete",id:"adrs/soft-delete",title:"0038 Use Soft Delete Instead of Hard Delete",description:"Decision outcome: Introduce soft deletion into the system\n",source:"@site/docs/adrs/0038-soft-delete.md",sourceDirName:"adrs",slug:"/adrs/soft-delete",permalink:"/mymove-docs/docs/adrs/soft-delete",draft:!1,editUrl:"https://github.com/transcom/mymove-docs/edit/main/docs/adrs/0038-soft-delete.md",tags:[],version:"current",sidebarPosition:38,frontMatter:{title:"0038 Use Soft Delete Instead of Hard Delete",description:"Decision outcome: Introduce soft deletion into the system\n"},sidebar:"adrsSidebar",previous:{title:"0037 Put mymove outside of standard GOPATH",permalink:"/mymove-docs/docs/adrs/go-path-and-project-layout-revisited"},next:{title:"0039 Use React Lazy for code splitting",permalink:"/mymove-docs/docs/adrs/react-lazy-and-code-splitting"}},s={},d=[{value:"Considered Alternatives",id:"considered-alternatives",level:2},{value:"Decision Outcome",id:"decision-outcome",level:2},{value:"Pros and Cons of the Alternatives",id:"pros-and-cons-of-the-alternatives",level:2},{value:"Leave everything as is. Allow the system to continue hard deleting records",id:"leave-everything-as-is-allow-the-system-to-continue-hard-deleting-records",level:3},{value:"Introduce soft deletion into the system",id:"introduce-soft-deletion-into-the-system",level:3},{value:"Reference",id:"reference",level:2}],c={toc:d};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"use-soft-delete-instead-of-hard-delete"},"Use Soft Delete Instead of Hard Delete"),(0,r.kt)("p",null,"Due to our contractual obligations with the federal government, we must be able to access deleted data even several years after it\u2019s been used in the system."),(0,r.kt)("h2",{id:"considered-alternatives"},"Considered Alternatives"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Leave everything as is. Allow the system to continue hard deleting records."),(0,r.kt)("li",{parentName:"ul"},"Introduce soft deletion into the system.")),(0,r.kt)("h2",{id:"decision-outcome"},"Decision Outcome"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Chosen Alternative: ",(0,r.kt)("strong",{parentName:"li"},"Introduce soft deletion into the system."))),(0,r.kt)("p",null,"This option allows the system to continue treating records as 'deleted' while maintaining the records. This will allow us to serve 'deleted' records when audited or other obligations demand so. Soft delete functionality has not yet been implemented throughout the entire codebase but it is expected to be the sole deletion method moving forward."),(0,r.kt)("p",null,"Please note that soft delete is to be treated like a hard delete in the regard that the process should never be reversed or that data can be 'un-deleted'."),(0,r.kt)("h2",{id:"pros-and-cons-of-the-alternatives"},"Pros and Cons of the Alternatives"),(0,r.kt)("h3",{id:"leave-everything-as-is-allow-the-system-to-continue-hard-deleting-records"},"Leave everything as is. Allow the system to continue hard deleting records"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"+")," No changes needed to be done."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-")," Risk legal exposure."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-")," Fail to comply with contractual obligations with government.")),(0,r.kt)("h3",{id:"introduce-soft-deletion-into-the-system"},"Introduce soft deletion into the system"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"+")," Complies with contractual obligations to the government."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"+")," In possession of records when asked for."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-")," Implementing soft delete will be a long, involved process."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-")," Database will have to deal with holding both active and 'deleted' records.")),(0,r.kt)("h2",{id:"reference"},"Reference"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://transcom.github.io/mymove-docs/docs/backend/guides/how-to/soft-delete/"},"Documentation")," on how to implement soft deletion")))}u.isMDXComponent=!0}}]);