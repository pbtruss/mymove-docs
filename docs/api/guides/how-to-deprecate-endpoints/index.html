<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<title data-react-helmet="true">How to Deprecate an API Endpoint | MilMove Developer Portal</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://transcom.github.io/mymove-docs/docs/api/guides/how-to-deprecate-endpoints"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="How to Deprecate an API Endpoint | MilMove Developer Portal"><meta data-react-helmet="true" name="description" content="This article adheres to the principles of API evolution, with a reduced focused on versioning. In essence, this means that we will strive to make additive changes. We will introduce new functionality into the API and gradually communicate the deprecation and eventual sunsetting of the old functionality."><meta data-react-helmet="true" property="og:description" content="This article adheres to the principles of API evolution, with a reduced focused on versioning. In essence, this means that we will strive to make additive changes. We will introduce new functionality into the API and gradually communicate the deprecation and eventual sunsetting of the old functionality."><link data-react-helmet="true" rel="shortcut icon" href="/mymove-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://transcom.github.io/mymove-docs/docs/api/guides/how-to-deprecate-endpoints"><link data-react-helmet="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/api/guides/how-to-deprecate-endpoints" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/api/guides/how-to-deprecate-endpoints" hreflang="x-default"><link rel="stylesheet" href="/mymove-docs/assets/css/styles.2fa8fb56.css">
<link rel="preload" href="/mymove-docs/assets/js/runtime~main.81552579.js" as="script">
<link rel="preload" href="/mymove-docs/assets/js/main.82d39ac9.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mymove-docs/"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">MilMove.dev</b></a><a class="navbar__item navbar__link" href="/mymove-docs/docs/about/">About</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/frontend">Frontend</a><a class="navbar__item navbar__link navbar__link--active" href="/mymove-docs/docs/api">API</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/tools">Tools</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/">Docs</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/help/">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>mymove<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/mymove-docs/docs/api">MilMove API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Swagger Documentation</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Docs</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/api/guides/api-programming-guide">API Programming Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/api/guides/api-errors">API Errors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/api/guides/api-style-guide">API Style Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/api/guides/guide-to-creating-an-endpoint">Creating an Endpoint</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mymove-docs/docs/api/guides/how-to-deprecate-endpoints">How to Deprecate an API Endpoint</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Testing</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>How to Deprecate an API Endpoint</h1></header><p>This article adheres to the principles of <a href="https://apisyouwonthate.com/blog/api-evolution-for-rest-http-apis" target="_blank" rel="noopener noreferrer">API evolution</a>, with a reduced focused on versioning. In essence, this means that we will strive to make <em>additive</em> changes. We will introduce new functionality into the API and gradually communicate the deprecation and eventual sunsetting of the old functionality. </p><p>The following is a suggested outline for how we should execute this process on MilMove.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="when-to-use-this-process"></a>When to use this process<a class="hash-link" href="#when-to-use-this-process" title="Direct link to heading">#</a></h2><p>A version of this process should be followed for many changes we make to an API, beyond deprecating an endpoint. For example:</p><ul><li><p><strong>Changing the name of an object/changing terminology.</strong>
We can make additive changes to an API to add the new terminology without removing the definitions and endpoints that have the old terminology. On the backend, the endpoints with the old terminology can be modified to point at the new handlers until we remove them on the sunset date.</p></li><li><p><strong>Changing the functionality of an existing endpoint</strong>
Likewise, it is generally possible to add the new functionality before removing the code that will change.</p></li><li><p><strong>Removing definitions and/or functionality</strong>
We don&#x27;t have to add any new functionality to follow this process.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="steps"></a>Steps<a class="hash-link" href="#steps" title="Direct link to heading">#</a></h2><blockquote><p>‚ùóÔ∏è This process is designed for our <em>internal</em> dev practices. For our external clients, namely the Prime, it <strong>has not yet been finalized</strong>. In particular, the notice period may need to be extended significantly (6-8 months).</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="communicate"></a>Communicate<a class="hash-link" href="#communicate" title="Direct link to heading">#</a></h3><ol><li><p>Submit and merge a PR that adds the new functionality to the API (if any).</p></li><li><p>Set a date to sunset (remove) the old functionality. For internal APIs, this should be, at a minimum, one month after the day you communicate the deprecation. For our external clients, 3 months is the minimum. Bigger changes may need significantly more time.</p></li><li><p>Mark the old endpoint as &quot;deprecated.&quot; To do this, you should:</p><ul><li>Add the key <code>deprecated: true</code> to the endpoint definition.</li><li>Prefix the endpoint description with <code>_[Deprecated: sunset on &lt;date&gt;]_</code> with the planned date for sunsetting the old functionality.</li><li>Add a link to the preferred endpoint to use instead, if applicable.</li></ul></li><li><p>Communicate the changes to the team. To do this, you should make a post in #prac-engineering in the USTC slack. This post should contain:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">- @channel. Everyone needs to be notified.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- The sunset date. Make it clear when this functionality will no longer be supported.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- Context. Give folks some insight into why this functionality is being removed. </span></span><span class="token-line" style="color:#393A34"><span class="token plain">- Alternatives. Talk about the preferred new endpoint, work-arounds, or recommendations for moving away from the old functionality entirely.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- Who to contact with questions.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">Example: </span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Hi there, @channel! This is your official announcement:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; The Prime API endpoint `fetchMTOUpdates` is effectively deprecated. We have replaced it with the new endpoint `listMoves`, which notably returns less information. Pair this new endpoint with `getMoveTaskOrder` to retrieve all of the information on a move.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; `fetchMTOUpdates` will be fully removed on **August 31, 2021**. Please update any systems or processes that rely on this endpoint before this date.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Feel free to ping me if you have any questions. Thanks all!</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">_NOTE: This does not account for how we will communicate these changes to the Prime yet. We can consider: email, headers (might not be supported), and putting large notifications on our documentation site (assuming we can set one up soon ü§û)_</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="deprecate"></a>Deprecate<a class="hash-link" href="#deprecate" title="Direct link to heading">#</a></h3><ol start="5"><li><p>Write a ticket to remove the old functionality from the API and schedule it for the sprint of the sunset date.</p></li><li><p>Submit and merge a PR that sunsets the old functionality. Tag the merge commit as a new release with a note about the changes to the API.</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="versioning"></a>Versioning<a class="hash-link" href="#versioning" title="Direct link to heading">#</a></h2><p>When we go live, we will have to address how we plan to <em>version</em> our APIs, particularly for external clients. This process is still a work in progress, and <a href="https://blog.container-solutions.com/api-versioning-what-is-it-why-so-hard" target="_blank" rel="noopener noreferrer">a difficult one at that</a>. In the meantime, we will still follow the above steps for API changes that could impact our internal teams.</p></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/transcom/mymove-docs/edit/main/docs/api/guides/how-to-deprecate-endpoints.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/mymove-docs/docs/api/guides/guide-to-creating-an-endpoint"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Creating an Endpoint</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/mymove-docs/docs/api/testing/acceptance-testing-prime-api-endpoints"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Acceptance Testing Prime API ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when-to-use-this-process" class="table-of-contents__link">When to use this process</a></li><li><a href="#steps" class="table-of-contents__link">Steps</a><ul><li><a href="#communicate" class="table-of-contents__link">Communicate</a></li><li><a href="#deprecate" class="table-of-contents__link">Deprecate</a></li></ul></li><li><a href="#versioning" class="table-of-contents__link">Versioning</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/help">Help</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/vault">Vault</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/tutorial">Docusaurus Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/contributing/frontend">Frontend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/contributing/backend">Backend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/contributing/database">Database</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/testing">Testing</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/transcom/mymove-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 United States Transportation Command. Built with Docusaurus.</div></div></div></footer></div>
<script src="/mymove-docs/assets/js/runtime~main.81552579.js"></script>
<script src="/mymove-docs/assets/js/main.82d39ac9.js"></script>
</body>
</html>