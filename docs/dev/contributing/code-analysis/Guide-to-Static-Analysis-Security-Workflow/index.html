<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<title data-react-helmet="true">Guide to Static Analysis Security Workflow | MilMove Developer Portal</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://transcom.github.io/mymove-docs/docs/dev/contributing/code-analysis/Guide-to-Static-Analysis-Security-Workflow"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Guide to Static Analysis Security Workflow | MilMove Developer Portal"><meta data-react-helmet="true" name="description" content="Contents"><meta data-react-helmet="true" property="og:description" content="Contents"><link data-react-helmet="true" rel="shortcut icon" href="/mymove-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://transcom.github.io/mymove-docs/docs/dev/contributing/code-analysis/Guide-to-Static-Analysis-Security-Workflow"><link data-react-helmet="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/dev/contributing/code-analysis/Guide-to-Static-Analysis-Security-Workflow" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/dev/contributing/code-analysis/Guide-to-Static-Analysis-Security-Workflow" hreflang="x-default"><link rel="stylesheet" href="/mymove-docs/assets/css/styles.2fa8fb56.css">
<link rel="preload" href="/mymove-docs/assets/js/runtime~main.990ca8c7.js" as="script">
<link rel="preload" href="/mymove-docs/assets/js/main.80b0a795.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mymove-docs/"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">MilMove.dev</b></a><a class="navbar__item navbar__link" href="/mymove-docs/docs/about/">About</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/frontend">Frontend</a><a class="navbar__item navbar__link navbar__link--active" href="/mymove-docs/docs/">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">APIs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/mymove-docs/api/prime">Prime</a></li><li><a class="dropdown__link" href="/mymove-docs/api/support">Support</a></li></ul></div><a class="navbar__item navbar__link" href="/mymove-docs/docs/help/">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>mymove<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/mymove-docs/docs/">MilMove Developer Docs</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/getting-started/How-to-Test-the-Prime-API">How to Test the Prime API</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Contributing</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Frontend</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Backend</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Database</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Code Analysis</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/code-analysis/Guide-to-Static-Analysis-Annotations-for-Disabled-Linters">Guide to Static Analysis Annotations for Disabled Linters</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mymove-docs/docs/dev/contributing/code-analysis/Guide-to-Static-Analysis-Security-Workflow">Guide to Static Analysis Security Workflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/code-analysis/run-pre-commit-hooks">Run pre-commit hooks</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Testing</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tools</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Versioning</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Demo</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Guide to Static Analysis Security Workflow</h1></header><p><strong>Contents</strong></p><ul><li><a href="#introduction">Introduction</a><ul><li><a href="#exceptions">Exceptions</a></li></ul></li><li><a href="#processes">Processes</a><ul><li><a href="#what-to-do-if-youve-written-code-that-triggers-the-linter">What to do if youâ€™ve written code that triggers the linter</a></li><li><a href="#if-you-need-to-disable-a-rule-check-the-severity-level-of-the-linter-violation">If you need to disable a rule check the severity level of the linter violation</a></li><li><a href="#if-you-need-annotation-approval">If you need annotation approval</a></li><li><a href="#if-you-are-a-trussel-in-truss-is3-github-group-and-someone-needs-an-approval">If you are a trussel in â€˜truss-is3â€™ github group and someone needs an approval</a></li></ul></li></ul><header><h1>Introduction</h1></header><p>As part of the ATO (Authority to Operate) process (<a href="https://ustcdp3.slack.com/archives/CP4UNF7H6" target="_blank" rel="noopener noreferrer">#wg-ato</a>) the mymove repository must complete a static analysis assessment of the codebase periodically to identify potential vulnerabilities. Historically, this has been accomplished with the Fortify static analysis tool. However, the Fortify static analysis tool may not be compatible with the latest Go versions.</p><p>In lieu of using Fortify, we are attempting to complete the same analysis with the existing mix of <a href="https://golangci-lint.run/" target="_blank" rel="noopener noreferrer">golangci-lint</a>, <a href="https://pre-commit.com/" target="_blank" rel="noopener noreferrer">pre-commit hooks</a>, and <a href="https://eslint.org/" target="_blank" rel="noopener noreferrer">eslint</a>. The severity of vulnerabilities are categorized along a scale from CAT-I, being the most critical, to CAT-III which is of lowest priority.</p><p>In order to meet security and ATO requirements, we must ensure linters are alerting engineers to fix any issues. Disabling certain rules could risk merging of code that creates a security vulnerability. Some in-file rule disables may be mitigated through justifiable reasoning and annotation comments within the code.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="exceptions"></a>Exceptions<a class="hash-link" href="#exceptions" title="Direct link to heading">#</a></h2><p>Some eslint rules have been determined to be okay to bypass:</p><ul><li>Rules in the <a href="https://docs.google.com/spreadsheets/d/1eH5ZYkKv7_c-p_D_y5G5ULdWgI_Zrwg_xL4WbLNZoqw/edit#gid=0" target="_blank" rel="noopener noreferrer">master spreadsheet</a> under Fortify Weakness as â€˜N/Aâ€™ (highlighted in gray)</li><li><code>&#x27;security/detect-object-injection&#x27;</code> is okay in src code (for example, we do not want to disable it in the dangerjs file). It is disabled inside the <code>src</code> directory.</li></ul><p>The <a href="https://github.com/transcom/mymove/blob/master/eslint-plugin-ato/no-unapproved-annotation.js" target="_blank" rel="noopener noreferrer">eslint-plugin-ato/no-unapproved-annotation.js</a> file is where rules are bypassed by the linter.</p><header><h1>Processes</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="what-to-do-if-youve-written-code-that-triggers-the-linter"></a>What to do if youâ€™ve written code that triggers the linter<a class="hash-link" href="#what-to-do-if-youve-written-code-that-triggers-the-linter" title="Direct link to heading">#</a></h2><p><strong>First choice:</strong> Fix the linter issue/remove the disable and write the code such that disabling of the linter is unnecessary.</p><p><strong>Second choice:</strong> If disabling is necessary, check the severity level, disable the code, add annotations above the disable line if CAT I, II or III.</p><p>Acceptance flow diagram:
<img alt="Acceptance flow diagram" src="/mymove-docs/assets/images/approval_flow-207f921b9c1cd0cc908fb34ff4ce7048.png">
<a href="https://lucid.app/documents/view/511a8852-7a08-4589-b536-52c5b11bbfdc" target="_blank" rel="noopener noreferrer">https://lucid.app/documents/view/511a8852-7a08-4589-b536-52c5b11bbfdc</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="if-you-need-to-disable-a-rule-check-the-severity-level-of-the-linter-violation"></a>If you need to disable a rule, check the severity level of the linter violation<a class="hash-link" href="#if-you-need-to-disable-a-rule-check-the-severity-level-of-the-linter-violation" title="Direct link to heading">#</a></h2><p>Check the severity level of the <a href="https://docs.google.com/spreadsheets/d/1eH5ZYkKv7_c-p_D_y5G5ULdWgI_Zrwg_xL4WbLNZoqw/edit#gid=0" target="_blank" rel="noopener noreferrer">master spreadsheet</a>. If it is CAT I, II, or III, you will need to write annotation</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="if-severity-level-of-a-linter-occurrence-is-unknown-ie-its-not-in-master-spreadsheet"></a>If severity level of a linter occurrence is unknown (i.e. itâ€™s not in <a href="https://docs.google.com/spreadsheets/d/1eH5ZYkKv7_c-p_D_y5G5ULdWgI_Zrwg_xL4WbLNZoqw/edit#gid=0" target="_blank" rel="noopener noreferrer">master spreadsheet</a>)<a class="hash-link" href="#if-severity-level-of-a-linter-occurrence-is-unknown-ie-its-not-in-master-spreadsheet" title="Direct link to heading">#</a></h2><ol><li><p>Contact Leo Scott and Erik Reiken, the ISSOs (Information System Security Officer), in #static-code-review and request a review of the linter rule. One of them will add it into the spreadsheet.</p></li><li><p>Depending on the severity level of the eslint, there are two routes:</p><ol><li><p>If the finding is an eslint with N/A severity</p><ul><li>Add it to the <code>approvedBypassableRules</code> list in the <code><a href="https://github.com/transcom/mymove/blob/master/eslint-plugin-ato/no-unapproved-annotation.js" target="_blank" rel="noopener noreferrer">eslint-plugin-ato/no-unapproved-annotation.js</a> </code>file</li></ul></li><li><p>If the finding is of severity level CAT I, II, or III </p><ul><li><p>First choice is for it to be remediated (refactor code so that the rule does not need to be violated)</p></li><li><p>Second choice is for it to be annotated</p></li></ul></li></ol></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="if-you-need-to-write-an-annotation"></a>If you need to write an annotation<a class="hash-link" href="#if-you-need-to-write-an-annotation" title="Direct link to heading">#</a></h2><ul><li><p>see <a href="/mymove-docs/docs/dev/contributing/code-analysis/Guide-to-Static-Analysis-Annotations-for-Disabled-Linters#guide-to-static-analysis-annotations-for-disabled-linters">Guide to Static Analysis Annotations for Disabled Linters</a></p></li><li><p>Make sure all disabling code appears immediately below the annotation, or else the linter will give you an error.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="if-you-need-annotation-approval"></a>If you need annotation approval<a class="hash-link" href="#if-you-need-annotation-approval" title="Direct link to heading">#</a></h2><ol><li>Label the PR with needs-is3-review</li><li>Add â€˜truss-is3â€™ group as reviewers. You can alert Trussels in #eng-leads</li><li>Tag ISSOs (Leo Scott and Erik Reiken) in the #static-code-review Slack channel</li><li>Provide as much info/context as you can for the ISSOs in the slack message:<ol><li>Include links in PR Description</li><li>Give further context</li><li>Let them know if the story is a block to other stories</li></ol></li></ol><p>Note: The PR will fail the run linters check until the ISSM approves the change in status via a commit to the PR.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="if-you-are-a-trussel-in-truss-is3-github-group-and-someone-needs-an-approval"></a>If you are a Trussel in â€˜truss-IS3â€™ Github group and someone needs an approval<a class="hash-link" href="#if-you-are-a-trussel-in-truss-is3-github-group-and-someone-needs-an-approval" title="Direct link to heading">#</a></h2><ol><li>Ensure one IS3 Trussel reviews and approves PRs with annotations</li><li>Review any changes to config files that impact static analysis linting rules (you are a CODEOWNER for those files)</li></ol><p>Workflow Diagram:
<img alt="Workflow diagram" src="/mymove-docs/assets/images/static_analysis_security_workflow-30162a639beb2d152a460200bf96ad79.png">
<a href="https://lucid.app/documents/view/17d640a9-ae3d-4b3b-bbd6-a9a999be013c" target="_blank" rel="noopener noreferrer">https://lucid.app/documents/view/17d640a9-ae3d-4b3b-bbd6-a9a999be013c</a></p></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/transcom/mymove-docs/edit/main/docs/dev/contributing/code-analysis/Guide-to-Static-Analysis-Security-Workflow.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/mymove-docs/docs/dev/contributing/code-analysis/Guide-to-Static-Analysis-Annotations-for-Disabled-Linters"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Guide to Static Analysis Annotations for Disabled Linters</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/mymove-docs/docs/dev/contributing/code-analysis/run-pre-commit-hooks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Run pre-commit hooks Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#exceptions" class="table-of-contents__link">Exceptions</a></li><li><a href="#what-to-do-if-youve-written-code-that-triggers-the-linter" class="table-of-contents__link">What to do if youâ€™ve written code that triggers the linter</a></li><li><a href="#if-you-need-to-disable-a-rule-check-the-severity-level-of-the-linter-violation" class="table-of-contents__link">If you need to disable a rule, check the severity level of the linter violation</a></li><li><a href="#if-severity-level-of-a-linter-occurrence-is-unknown-ie-its-not-in-master-spreadsheet" class="table-of-contents__link">If severity level of a linter occurrence is unknown (i.e. itâ€™s not in master spreadsheet)</a></li><li><a href="#if-you-need-to-write-an-annotation" class="table-of-contents__link">If you need to write an annotation</a></li><li><a href="#if-you-need-annotation-approval" class="table-of-contents__link">If you need annotation approval</a></li><li><a href="#if-you-are-a-trussel-in-truss-is3-github-group-and-someone-needs-an-approval" class="table-of-contents__link">If you are a Trussel in â€˜truss-IS3â€™ Github group and someone needs an approval</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/help">Help</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/vault">Vault</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/tutorial">Docusaurus Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/contributing/frontend">Frontend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/contributing/backend">Backend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/contributing/database">Database</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/testing">Testing</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/transcom/mymove-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 United States Transportation Command. Built with Docusaurus.</div></div></div></footer></div>
<script src="/mymove-docs/assets/js/runtime~main.990ca8c7.js"></script>
<script src="/mymove-docs/assets/js/main.80b0a795.js"></script>
</body>
</html>