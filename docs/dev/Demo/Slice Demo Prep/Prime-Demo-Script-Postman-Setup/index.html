<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<title data-react-helmet="true">Utilizing the GitHub Workflow for designing a Slice Demo Postman Collection: | MilMove Developer Portal</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://transcom.github.io/mymove-docs/docs/dev/Demo/Slice Demo Prep/Prime-Demo-Script-Postman-Setup"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Utilizing the GitHub Workflow for designing a Slice Demo Postman Collection: | MilMove Developer Portal"><meta data-react-helmet="true" name="description" content="* Slice Demo Prep Basics: Playing the Prime"><meta data-react-helmet="true" property="og:description" content="* Slice Demo Prep Basics: Playing the Prime"><link data-react-helmet="true" rel="shortcut icon" href="/mymove-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://transcom.github.io/mymove-docs/docs/dev/Demo/Slice Demo Prep/Prime-Demo-Script-Postman-Setup"><link data-react-helmet="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/dev/Demo/Slice Demo Prep/Prime-Demo-Script-Postman-Setup" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/dev/Demo/Slice Demo Prep/Prime-Demo-Script-Postman-Setup" hreflang="x-default"><link rel="stylesheet" href="/mymove-docs/assets/css/styles.03455fb1.css">
<link rel="preload" href="/mymove-docs/assets/js/runtime~main.d8c450a0.js" as="script">
<link rel="preload" href="/mymove-docs/assets/js/main.914b6b55.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mymove-docs/"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">MilMove Documentation</b></a><a class="navbar__item navbar__link" href="/mymove-docs/docs/about/">About</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/frontend">Frontend</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/backend">Backend</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/api">API</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/tools">Tools</a><a class="navbar__item navbar__link navbar__link--active" href="/mymove-docs/docs/">Docs</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/help/index">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>mymove<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/mymove-docs/docs/">MilMove Developer Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Contributing</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Testing</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tools</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Demo</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Slice Demo Prep</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mymove-docs/docs/dev/Demo/Slice Demo Prep/Prime-Demo-Script-Postman-Setup">Utilizing the GitHub Workflow for designing a Slice Demo Postman Collection:</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Utilizing the GitHub Workflow for designing a Slice Demo Postman Collection:</h1></header><ul><li><a href="#slice-demo-prep-basics-playing-the-prime">Slice Demo Prep Basics: Playing the Prime</a></li><li><a href="#getting-started">Getting Started</a><ul><li><a href="#creating-a-collection-from-scratch">Creating a Collection from scratch</a><ul><li><a href="#setting-up-indexjs">Setting up Index.js</a></li><li><a href="#utilizing-the-utils-folder">Utilizing the utils folder</a></li><li><a href="#setting-up-the-payloads-file">Setting up the Payloads file</a></li><li><a href="#setting-up-the-requests-folder">Setting up the Requests folder</a></li><li><a href="#setting-up-the-events-folder">Setting up the Events folder</a></li><li><a href="#setting-up-the-templates-folder">Setting up the Templates folder</a></li></ul></li><li><a href="#running-your-new-collection">Running your new collection</a></li></ul></li></ul><p>Regenerate with &quot;pre-commit run -a markdown-toc&quot;</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="slice-demo-prep-basics-playing-the-prime"></a>Slice Demo Prep Basics: Playing the Prime:<a class="hash-link" href="#slice-demo-prep-basics-playing-the-prime" title="Direct link to heading">#</a></h2><p>During the slice demo there will be various points of handoff from the TOO/TIO to the Prime and vice versa. When playing the prime, we recommend developing visuals that are split up into 3 sections:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="handoff-from-too---prime"></a>Handoff from TOO -&gt; Prime<a class="hash-link" href="#handoff-from-too---prime" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Visual 1: Prime receives a notification of a move. Prime updates the move details. Prime performs another action (e.g. creates a service item)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="handoff-from-prime----too"></a>Handoff from Prime --&gt; TOO<a class="hash-link" href="#handoff-from-prime----too" title="Direct link to heading">#</a></h4><p>After the Prime creates the Service Item(or Reweigh Request/SIT Extension/ or another action), there is a verbal handoff to the TOO. Nothing technical happens.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="handoff-too----prime"></a>Handoff TOO --&gt; Prime<a class="hash-link" href="#handoff-too----prime" title="Direct link to heading">#</a></h4><p>The TOO reviews the Service Item and approves them and there is a verbal handoff to the Prime to show how a payment request is created and proof od service is uploaded</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Visual 2: Prime creates a payment request</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Visual 3: uploads proof of service.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>NOTE: You may be able to combine visuals 2 and 3 by nesting the POST requests for creating a payment request and uploading proof of service, but this involves extensive research into <a href="https://learning.postman.com/docs/sending-requests/intro-to-collections/" target="_blank" rel="noopener noreferrer">grouping these requests</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="handoff-from-prime-to-tootio"></a>Handoff from Prime to TOO/TIO<a class="hash-link" href="#handoff-from-prime-to-tootio" title="Direct link to heading">#</a></h4><p>After the prime uploads the proof of service, they submit the payment request ID to the TIO and do a verbal handoff to the TOO.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="getting-started"></a>Getting Started:<a class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><p>We have created a repo in GitHub with postman collections from previous slice demos. This means you can get a copy of all of them the way you would clone any other repo on GitHub: </p><ol><li>Clone the <code>prime_api_deliverable</code> repo: <code>git clone git@github.com:transcom/prime_api_deliverable.git</code></li><li>Navigate to the <code>postman</code> folder, where you will find previous slice demo collections (e.g. 202108-slice-demo)</li><li>Copy over contents from a previous collection or create a new collection from scratch.</li></ol><p>If you have never set up postman before checkout our instructions for <a href="https://transcom.github.io/mymove-docs/docs/dev/tools/Postman/Setting-Up-Postman" target="_blank" rel="noopener noreferrer">setting up postman</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="creating-a-collection-from-scratch"></a>Creating a Collection from scratch:<a class="hash-link" href="#creating-a-collection-from-scratch" title="Direct link to heading">#</a></h3><p>Once you have cloned the <code>prime_api_deliverable</code> repo, create a new branch if someone is reviewing your script or just start working directly in master.
Open the file in your favorite text editor. Under the postman folder, create a new folder for our slice demo collection.
Our naming convention for each slice demo folder is going to be: YYYYMM-slice-demo.</p><p>If your slice demo is happening in September 2021, for example, you will create a folder called <code>202109-slice-demo</code>. In this folder create 3 more empty folders, and a file for payloads:</p><ul><li><code>payloads.js</code> - is a file that feeds the <code>requests</code> folder</li><li><code>requests</code> - this folder contains node JS files that postman uses to build the collection.</li><li><code>events</code> - this folder contains node JS files that contain the objects that feed into the templates folder for the visualizations. </li><li><code>templates</code> - this folder contains HTML to add visualizations in the demo.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="setting-up-indexjs"></a>Setting up Index.js:<a class="hash-link" href="#setting-up-indexjs" title="Direct link to heading">#</a></h4><p>The <code>index.js</code> file is where you will store all of the elements that tell postman to create a collection for you.
Outside of these folders you will add a top level file called <code>index.js</code>, where you will add your path and fs requirements to use node.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">const fs = require(&#x27;fs&#x27;); // fs stands for file system</span></span><span class="token-line" style="color:#393A34"><span class="token plain">const path = require(&#x27;path&#x27;); // internal library for node js that allows you to use path names</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Following these two requirements must create your collection constant and a path for your collection:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">const Collection = require(&#x27;postman-collection&#x27;).Collection; // make sure to npm install so that you can use this library</span></span><span class="token-line" style="color:#393A34"><span class="token plain">const fileName = path.basename(__dirname + &#x27;.postman_collection.json&#x27;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">const savePath = path.join(process.cwd(), &#x27;/collections&#x27;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">const filePath = `${savePath}/${fileName}`;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the code above, the constant <code>filePath</code> knows to store your new collection in your current working directory&#x27;s <code>collection</code> folder.
<code>index.js</code> does a lot for us. But the main purpose is to generate the JSON for postman to understand.</p><p>JS code is stringifies to JSON code, what postman uses, in this code:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">fs.writeFileSync(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  filePath,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  JSON.stringify(sliceDemoCollection, null, 2)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Next build your collection. In this case we will build a collection with two requests:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">var myCollection;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create a collection having two requests</span></span><span class="token-line" style="color:#393A34"><span class="token plain">myCollection = new Collection({</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    info: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        name: &quot;2021 Sept Prime Demo&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        description: `</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ### Get Move endpoint</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            We give this request a move code and it returns a move.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        `,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    variable: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        moveID: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            id: &quot;moveID&quot;, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">            value: &quot;&quot;, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: &quot;string&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        baseUrl: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            id: &quot;baseUrl&quot;, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">            value: &quot;https://api.stg.move.mil/prime/v1&quot;, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: &quot;string&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        getMoveTaskOrderTemplate: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            id: &quot;getMoveTaskOrderTemplate&quot;, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">            value: &quot;&quot;, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: &quot;string&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span><span class="token-line" style="color:#393A34"><span class="token plain">myCollection.items.add([]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">fs.writeFileSync(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    filePath,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    JSON.stringify(myCollection, null, 2)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (fs.existsSync(filePath)) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(`ðŸ’¾ The Postman Collection has been saved at ${filePath}`);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To check to make sure that your empty collection is created, run teh first step in <a href="#running-your-new-collection">Running your new collection</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="utilizing-the-utils-folder"></a>Utilizing the <code>utils</code> folder:<a class="hash-link" href="#utilizing-the-utils-folder" title="Direct link to heading">#</a></h4><p>There is a utils folder that lives outside of your new collection in the <code>postman</code> folder.
This folder is important to take note of because it contains helpers that you will utilize in your collection.
The helpers contain utils such as Postman SDK functions, an event item that runs in postman&#x27;s Test tab, and a post item object that has JS objects such as <code>requestID</code>, and node objects for working with file system and file paths.
These helpers include:</p><ul><li><code>fileUtils.js</code>  <ul><li>contains helper functions that can be used in your collection.</li></ul></li><li><code>currentTime.js</code> <ul><li>contains a helper function that returns current time in the format <code>HH:MM:SS</code>.</li></ul></li><li><code>createItem.js</code><ul><li>contains helpers to build postman item objects and events, and return new items (e.g. an item that contains a request with a request body, headers, url, and description). Takes teh pre-request script and test script as optional values</li></ul></li><li><code>addDays.js</code>  <ul><li>this utility adds a function for adding days to a current date, and returns a future date formatted <code>YYYY-MM-DD</code>. Be mindful that this function has no type checking.</li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="setting-up-the-payloads-file"></a>Setting up the Payloads file:<a class="hash-link" href="#setting-up-the-payloads-file" title="Direct link to heading">#</a></h4><p>Key request id: value is the request payload</p><p>The Payloads file feeds objects to the request folder. This is where we will create reusable objects that we pass to the requests. Examples of this include:
updating a shipment with the actual pickup date, actual weight, and estimated weight, updating a reweigh weight, scheduling a pickup date, etc.</p><p>Each action will be added to  <code>const payload</code> which takes in a key values pair of <code>{object: payload_for_object)</code>. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;mto-shipments-sit-extensions&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    requestReason: &quot;NONAVAILABILITY_OF_CIVILIAN_HOUSING&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    contractorRemarks: &quot;Customer is in the middle of closing on a house, expects it to be in 10 days.&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    requestedDays: 30,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Where the object in teh example is <code>MTOShipmentsSitExtensions</code> and he valued is the payload that includes a <code>requestReason</code>, <code>contractorRemarks</code>, and <code>requestedDays</code>.</p><p>After creating your payload objects, remember to export the module:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = payloads;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you&#x27;ve used postman before, you&#x27;ll notice that request and response bodies are JSON files in postman, however our payloads are JavaScript files. JavaScript provides us with a few advantages.
Firstly, it allows the developer to leave comments within the payload file. Second, we can import utils to use in our code. Lastly, we can also use template tags when we are using JS files. </p><p>In a different folder, our JS code gets assembles into a JSON collection string that is outputted to a file for postman to generate our collection. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="setting-up-the-requests-folder"></a>Setting up the Requests folder:<a class="hash-link" href="#setting-up-the-requests-folder" title="Direct link to heading">#</a></h4><p>In the <code>request</code> folder you will create a JS file for each request to the Prime API.
Your files will contain a lot of similar code, which can eventually be refactored to put that code in it&#x27;s own file and create all the requests in another file, but this will be left to your discretion.
What&#x27;s unique about each file is the item that is being created. For instance, the item associated with the <code>createPaymentRequest</code> endpoint looks like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = createItem({</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: &#x27;Create Payment Request&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  requestID: requestID,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  url: &#x27;{{baseUrl}}/payment-requests&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  method: &#x27;POST&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  headers: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Postman-Request-ID&#x27;: requestID,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  description: requestDescription,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  payload: JSON.stringify(payload, null, 2).replace(/&quot;{{/g, &#x27;{{&#x27;).replace(/}}&quot;/g, &#x27;}}&#x27;),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  prerequestScript: requestPreRequestScript,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  testScript: requestTestScript,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="setting-up-the-events-folder"></a>Setting up the Events folder:<a class="hash-link" href="#setting-up-the-events-folder" title="Direct link to heading">#</a></h4><p>In the <code>events</code> folder we will create a file called <code>test.js</code>. This file will set up variables for the visualizer in Postman and environment variables that will be used in your collection.
This file is also where we will create a test script that will toggle between different visualizations as we run through the demo.</p><p>If you&#x27;ve created demo scripts in postman in the past, you may have used the <code>Test</code> tab to add your HTML and JS that generated the visuals during the demo.
This <code>test.js</code> file is essentially our test script and it will populate that tab once your collection is imported.</p><p>There is also an option to add a <code>prerequests.js</code> file, which populates the <code>Pre-Request Script</code> tab in postman, to run any code before a request is completed. However adding this file is not required.
Both JS files in the <code>event</code> folder will run directly in postman, unlike hte other JS files in the collection.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="setting-up-the-templates-folder"></a>Setting up the Templates folder:<a class="hash-link" href="#setting-up-the-templates-folder" title="Direct link to heading">#</a></h4><p>The <code>templates</code> folder is important because it contains teh HTML that we use to visualize the role of the prime in a file called <code>visualize.html</code>.</p><p><img alt="Screenshot of Postman Visualization" src="/mymove-docs/assets/images/postman_visualize-05d426ffcc8e526c86409c670ea8ae89.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="running-your-new-collection"></a>Running your new collection:<a class="hash-link" href="#running-your-new-collection" title="Direct link to heading">#</a></h3><p>When you&#x27;re finished with your collection, it is time to generate the postman collection. </p><ol><li>do an <code>npm install</code></li><li>run <code>npm run build_&lt;collection-name&gt;</code></li></ol><p>If you ever need to update your collection run  <code>node &lt;collection_name/index.js&gt;</code>. </p><p>Your collection will be imported into a top level folder called <code>collections</code>, from there import the collection into postman directly.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="checking-for-errors"></a>Checking for errors:<a class="hash-link" href="#checking-for-errors" title="Direct link to heading">#</a></h3><p>Debugging after hitting an endpoint has not been optimized yet. Unfortunately, you will still need to check the console in postman to see what errors pop up.
Optimizing debugging is something we need to continue to work on as postman debugging tools are few and far between. </p><p><img alt="Screenshot of Postman Console" src="/mymove-docs/assets/images/postman_console-1e41522329b0ed59f5523a8e344b0cb7.png"></p></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/transcom/mymove-docs/edit/main/docs/dev/Demo/Slice Demo Prep/Prime-Demo-Script-Postman-Setup.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/mymove-docs/docs/dev/tools/CAC/use-mtls-with-cac"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« How to Create CAC Access (for using Prime API and uploading Electronic Orders)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#slice-demo-prep-basics-playing-the-prime" class="table-of-contents__link">Slice Demo Prep Basics: Playing the Prime:</a></li><li><a href="#getting-started" class="table-of-contents__link">Getting Started:</a><ul><li><a href="#creating-a-collection-from-scratch" class="table-of-contents__link">Creating a Collection from scratch:</a></li><li><a href="#running-your-new-collection" class="table-of-contents__link">Running your new collection:</a></li><li><a href="#checking-for-errors" class="table-of-contents__link">Checking for errors:</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/tutorial">Docusaurus Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/frontend">Frontend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/backend">Backend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/tools">Tools</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/transcom/mymove-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>MilMove Documentation GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>MilMove GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://6130eb5cde15830007fdf57b--docusaurus-2.netlify.app/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2022  U.S. Federal Government (in countries where recognized) and TrussWorks. Built with Docusaurus.</div></div></div></footer></div>
<script src="/mymove-docs/assets/js/runtime~main.d8c450a0.js"></script>
<script src="/mymove-docs/assets/js/main.914b6b55.js"></script>
</body>
</html>