<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<title data-react-helmet="true">Writing Tests using React Testing Library and Jest | MilMove Developer Portal</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://transcom.github.io/mymove-docs/docs/frontend/testing/writing-tests-using-react-testing-library-and-jest"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Writing Tests using React Testing Library and Jest | MilMove Developer Portal"><meta data-react-helmet="true" name="description" content="This guide will cover preferred strategies for testing using React Testing Library (RTL)."><meta data-react-helmet="true" property="og:description" content="This guide will cover preferred strategies for testing using React Testing Library (RTL)."><link data-react-helmet="true" rel="shortcut icon" href="/mymove-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://transcom.github.io/mymove-docs/docs/frontend/testing/writing-tests-using-react-testing-library-and-jest"><link data-react-helmet="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/frontend/testing/writing-tests-using-react-testing-library-and-jest" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/frontend/testing/writing-tests-using-react-testing-library-and-jest" hreflang="x-default"><link rel="stylesheet" href="/mymove-docs/assets/css/styles.2fa8fb56.css">
<link rel="preload" href="/mymove-docs/assets/js/runtime~main.872f8226.js" as="script">
<link rel="preload" href="/mymove-docs/assets/js/main.94ab27b9.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mymove-docs/"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">MilMove Documentation</b></a><a class="navbar__item navbar__link" href="/mymove-docs/docs/about/">About</a><a class="navbar__item navbar__link navbar__link--active" href="/mymove-docs/docs/frontend">Frontend</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/backend">Backend</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/api">API</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/tools">Tools</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/">Docs</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/help/index">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>mymove<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/mymove-docs/docs/frontend">MilMove Frontend</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Setup</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Guides</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Testing</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/frontend/testing/frontend">Front-end / React Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/frontend/testing/how-to-run-frontend-test-coverage-reports">[WIP] How to run Frontend test coverage reports</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/frontend/testing/unit-test-react-components">How To Unit Test React Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/frontend/testing/how-to-view-a-move-or-payment-request-in-the-office-app-as-a-too-or-tio">How to view a move or payment request in the office app as a TOO or TIO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/frontend/testing/writing-frontend-tests-for-milmove">Writing Frontend Tests for MilMove</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/frontend/testing/writing-frontend-tests-enzyme-and-react-testing-library">Writing Frontend Tests: Enzyme and React Testing Library</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mymove-docs/docs/frontend/testing/writing-tests-using-react-testing-library-and-jest">Writing Tests using React Testing Library and Jest</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Writing Tests using React Testing Library and Jest</h1></header><p>This guide will cover preferred strategies for testing using React Testing Library (RTL).
<a href="https://github.com/transcom/mymove/wiki/Writing-Frontend-Tests-for-MilMove" target="_blank" rel="noopener noreferrer">This wiki</a> covers strategies for how MilMove writes tests.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="resources"></a>Resources<a class="hash-link" href="#resources" title="Direct link to heading">#</a></h2><p>The React Testing Library documentation is a great resource, specifically; <a href="https://testing-library.com/docs/queries/about" target="_blank" rel="noopener noreferrer">the queries section</a>.</p><p><a href="https://kentcdodds.com/blog/common-mistakes-with-react-testing-library" target="_blank" rel="noopener noreferrer">This article</a> by Kent C. Dodds is also a useful reference. Familiarity with this article is recommended. Some of the following sections will be repeats of this article, but are once again highlighted here as they are common requests in code reviews.</p><p>One of the things we&#x27;d like to try is to use ARIA roles as much as possible. To that end, here are some MDN docs for roles: <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="using-screen"></a>Using Screen<a class="hash-link" href="#using-screen" title="Direct link to heading">#</a></h2><p>Use screen for querying and debugging. This helps prevent having to keep the destructure up to date from adding or removing queries. </p><p>Yes, good:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">screen.getByRole(...)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>No, avoid:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">const { getByRole } = ...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="using-getby-or-findby-over-queryby"></a>Using getBy or findBy over queryBy<a class="hash-link" href="#using-getby-or-findby-over-queryby" title="Direct link to heading">#</a></h2><p>Use <code>getBy...</code> or <code>findBy...</code> when something is expected to be in the document. Use <code>queryBy...</code> when something is not expected to be in the document. This is because <code>getBy...</code> and <code>findBy...</code> will throw errors if they don&#x27;t find what they are looking for, while <code>queryBy...</code> will return null.</p><p>Note: After the first <code>await screen.findBy*</code>, the rest can be <code>screen.getBy*</code> without <code>await</code>. The only time you need to then do <code>await screen.findBy*</code> again should be if you make changes to the page and need to wait for the updates to take effect.</p><p>Yes, good:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">expect(await screen.findByRole(&#x27;heading&#x27;, { name: &#x27;Some heading&#x27;, level: 2 })).toBeInTheDocument();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">expect(await screen.queryByRole(&#x27;heading&#x27;, { name: &#x27;Some heading not in the document&#x27;, level: 2 })).not.toBeInTheDocument();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>No, avoid:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">expect(await screen.queryByRole(&#x27;heading&#x27;, { name: &#x27;Some heading&#x27;, level: 2 })).toBeInTheDocument();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="using-await"></a>Using await<a class="hash-link" href="#using-await" title="Direct link to heading">#</a></h2><p>Use <code>await</code> in combination with <code>findBy...</code> instead of <code>waitFor</code> with &#x27;getBy&#x27;. <code>findBy...</code> queries use <code>waitFor</code> under the hood, so it is far easier to read <code>await screen.findBy...</code> than <code>await waitFor(() =&gt; screen.getBy...)...</code> </p><p>Yes, good: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">await screen.findByRole(&#x27;heading&#x27;, { name: &#x27;Some heading&#x27;, level: 2 }));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>No, avoid: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">await waitFor(() =&gt; screen.getByRole(&#x27;heading&#x27;, { name: &#x27;Some heading&#x27;, level: 2 }));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="using-table-driven-tests"></a>Using Table Driven Tests<a class="hash-link" href="#using-table-driven-tests" title="Direct link to heading">#</a></h2><p>Sometimes you want to test repetitive things, such as verifying that each field will have an appropriate error message when not filled out. To that end, you can use table driven tests.</p><p>Please wrap your table driven tests inside of a describe! It makes them easier to read when printed out to the screen. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">describe(&#x27;description of what the table driven test is doing&#x27;, () =&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  it.each([</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [&#x27;some data that you want checked&#x27;, &#x27;usually the expected value&#x27;],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [&#x27;some other data that you want checked&#x27;, &#x27;some other value&#x27;],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  ])(&#x27;this is a table test for %s&#x27;, async (data, expectedValue) =&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Insert test that you want repeated for every item in the list.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="using-jest"></a>Using Jest<a class="hash-link" href="#using-jest" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="jestfn"></a>jest.fn()<a class="hash-link" href="#jestfn" title="Direct link to heading">#</a></h3><p>jest.fn() is commonly used as a placeholder function for when a component takes in a function as a prop. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="jestmockimplementationonce"></a>jest.mockImplementationOnce()<a class="hash-link" href="#jestmockimplementationonce" title="Direct link to heading">#</a></h3></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/transcom/mymove-docs/edit/main/docs/frontend/testing/writing-tests-using-react-testing-library-and-jest.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/mymove-docs/docs/frontend/testing/writing-frontend-tests-enzyme-and-react-testing-library"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Writing Frontend Tests: Enzyme and React Testing Library</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#resources" class="table-of-contents__link">Resources</a></li><li><a href="#using-screen" class="table-of-contents__link">Using Screen</a></li><li><a href="#using-getby-or-findby-over-queryby" class="table-of-contents__link">Using getBy or findBy over queryBy</a></li><li><a href="#using-await" class="table-of-contents__link">Using await</a></li><li><a href="#using-table-driven-tests" class="table-of-contents__link">Using Table Driven Tests</a></li><li><a href="#using-jest" class="table-of-contents__link">Using Jest</a><ul><li><a href="#jestfn" class="table-of-contents__link">jest.fn()</a></li><li><a href="#jestmockimplementationonce" class="table-of-contents__link">jest.mockImplementationOnce()</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/tutorial">Docusaurus Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/frontend">Frontend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/backend">Backend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/tools">Tools</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/transcom/mymove-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>MilMove Documentation GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>MilMove GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 United States Transportation Command. Built with Docusaurus.</div></div></div></footer></div>
<script src="/mymove-docs/assets/js/runtime~main.872f8226.js"></script>
<script src="/mymove-docs/assets/js/main.94ab27b9.js"></script>
</body>
</html>